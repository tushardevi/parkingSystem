<html>
<head>
    <title>Streamer</title>
</head>
<body>
       <button>Start camera</button>
           <br/>
           <video></video>
           <script>
                function getFrame() {
                    const canvas = document.createElement("canvas");
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext("2d").drawImage(video, 0, 0);
                    const data = canvas.toDataURL("image/png");
                    return data;
                    
                }
				        var video = document.querySelector("video");
                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                     console.log("getUserMedia() not supported.");
                }
                var btn = document.querySelector("button");
               
            btn.onclick=function(e) {
						let constraints = { video: { facingMode: "environment" } };
            navigator.mediaDevices.getUserMedia(constraints)
                         .then(function(stream) {
                             
                             if ("srcObject" in video) {
                                 video.srcObject = stream;
                             } else {
                                 video.src = window.URL.createObjectURL(stream);
                             }
                             video.onloadedmetadata = function(e) {
									              video.play();
                             }
														 
                        })
                          .catch(function(err) {
                               console.log(err.name + ": " + err.message);
                           });
                };
           </script> 
     </body>
</html>